# Technology Stack

## Overview

The technology stack for Deita is selected for rapid development, maintainability, and scalability, with a focus on Python for backend analytics and React for a modern, responsive frontend.

## Frontend

- **Framework:** React 18.2 (SPA)
- **Language:** TypeScript 5.3+
- **UI Library:** Chakra UI 2.8
- **Styling:** Emotion (CSS-in-JS)
- **State Management:** React Context API, Zustand 4.4
- **Server State:** React Query 3.39
- **Build Tool:** Vite 7.1
- **Router:** React Router DOM 6.8
- **HTTP Client:** Axios 1.6
- **Forms:** React Hook Form 7.47, Zod 3.22
- **File Upload:** React Dropzone 14.2
- **SQL Parsing:** node-sql-parser 5.3
- **Testing:** Jest 29.5, React Testing Library, @testing-library/jest-dom
- **Linting/Formatting:** ESLint 8.57, Prettier 3.6, TypeScript ESLint 6.21

## Backend

- **Framework:** FastAPI 0.116+ (Python)
- **Language:** Python 3.11+
- **Package Manager:** uv (fast Python package management)
- **Database:**
  - **Metadata & persistence:** PostgreSQL (via SQLAlchemy 2.0, psycopg2-binary 2.9)
  - **Analytical queries:** DuckDB 0.9+ (OLAP, in-process)
- **ORM & Migrations:**
  - **ORM:** SQLAlchemy 2.0+
  - **Migrations:** Alembic 1.12+
- **File Storage:**
  - **Development:** MinIO (S3-compatible)
  - **Production:** S3-compatible object storage
  - **SDK:** boto3 1.40+
- **AI Integration:**
  - **Client:** LiteLLM 1.77+ (unified LLM interface)
  - **Provider:** OpenRouter (model abstraction)
- **Authentication:**
  - **Method:** Magic link via email
  - **Token:** JWT (python-jose 3.3+)
  - **Password:** Passlib with bcrypt
- **Rate Limiting:** SlowAPI 0.1.9 (100 req/min default)
- **Validation:** Pydantic 2.5+, pydantic-settings 2.1+
- **SQL Validation:** sqlglot 19.9+
- **Data Processing:** pandas 2.1+
- **File Type Detection:** python-magic 0.4.27
- **Testing:** Pytest 8.4+, pytest-asyncio 1.2+, pytest-cov 7.0+
- **Linting/Formatting:** Ruff 0.13+ (replaces black, isort, flake8)

## Infrastructure

### Development

- **Email Testing:** MailHog (SMTP mock server)
- **Object Storage:** MinIO (S3-compatible)

### DevOps & Deployment

- **Containerization:** Docker (multi-stage builds, Docker Compose)
- **CI/CD:** GitHub Actions
- **Hosting:** Hetzner Cloud (VMs, Storage)
- **Secrets Management:** Environment variables, Docker secrets
- **Configuration:** Environment-based (Pydantic Settings)

## Development Tools

- **Documentation:** Markdown, Mermaid, PlantUML
- **API Documentation:** OpenAPI/Swagger (auto-generated by FastAPI)
- **Code Quality:**
  - **Backend:** Ruff (linting + formatting)
  - **Frontend:** ESLint + Prettier
- **Type Checking:**
  - **Backend:** Python type hints with mypy (optional)
  - **Frontend:** TypeScript strict mode

## Rationale

- **Python + DuckDB:** Enables fast, flexible analytics on user-uploaded data without external dependencies.
- **FastAPI:** Modern, fast, auto-documented API framework with async support.
- **React 18 + TypeScript:** Type-safe, modern UI with excellent developer experience.
- **Vite:** Lightning-fast development builds and HMR.
- **LiteLLM:** Unified interface for multiple LLM providers (flexibility).
- **SQLAlchemy 2.0:** Mature, powerful ORM with excellent PostgreSQL support.
- **SlowAPI:** Simple, effective rate limiting for API protection.
- **Ruff:** Fast, comprehensive Python linter and formatter (10-100x faster than alternatives).
- **uv:** Fast Python package manager (10-100x faster than pip).
- **Docker:** Ensures reproducible, portable deployments across environments.
- **GitHub Actions:** Automates testing, linting, and deployment workflows.
